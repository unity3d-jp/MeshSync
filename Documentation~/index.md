![demo](images/demo.gif)
# MeshSync

MeshSync is a package that works together with 
[MeshSyncDCCPlugin](https://github.com/Unity-Technologies/MeshSyncDCCPlugin)
to synchronize meshes/models editing in DCC tools into Unity in real time.
This allows devs to immediately see how things will look in-game while modelling.  


# How to use

Simple, just create a server object by clicking this menu: GameObject -> MeshSync -> Create Server. 
This object has MeshSyncServer component that handles the sync process.

<img src="images/menu.png" width=320>


## MeshSyncServer Component


<img align="right" src="images/MeshSyncServer.png" height=400>

- **Root Object**  
Designate an object to act as the root for object groups generated by synching. If empty, an object will be created in the root. 

- **Sync Visibility, Sync Transform, etc.**  
A setting for enabling/disabling sync for individual components. 
This is useful for confirming the results precisely, such as the physics simulation behavior in Play mode
without being overrided by the transform sync.

- **Update Mesh Collider**  
On: MeshCollider details will also be updated when the Mesh is updated and has a MeshCollder. 

- **Track Material Assignment**  
When enabled, if a material is assigned by dragging and dropping in the SceneView, 
that update will be detected and any other Mesh using the same material will also have its material updated. 

- **Animation Interpolation**  
Sets the animation interpolation method. The default smooth interpolation will be fine in most cases, 
but for films it may be preferable to match the number of animation samples to the target framerate on the DCC side and disable interpolation by selecting "Constant".   

- **Progressive Display**  
On: mid-reception scene updates will be reflected in real-time.  
Off: updates will be reflected after all of the scene data is received. 

- **Material List**  
The MeshSyncServer maintains a list of materials. Assigning a material to this list will also assign it to corresponding objects as appropriate. 

- **Make Asset**  
Meshes which are created by editing in DCC tools are objects that only exist in the scene where they are created. 
In order to use them in other scenes or projects, we can save them as asset files by clicking the "Export Mesh "button.


# Tips
- Starting from Unity 2019, a maximum of 255 bones can be used, allowing MeshSync to sync models that require a lot of bones, such as facial animations.
  See [Quality Settings-Blend Weights](https://docs.unity3d.com/Manual/class-QualitySettings.html#BlendWeights) for more detail.

- The sync process is done via TCP/IP, so Unity and the DCC tool can be located on separate machines.   
  To set up this connection, go to the client DCC tool's Server/Port setting and designate the machine running Unity.


- When there is a MeshSyncServer object in the scene in Unity, we can open the server's address:port in our browser to view the server's 
Unity GameView via the browser (the default is [127.0.0.1:8080](http://127.0.0.1:8080)).  
If a message is sent from the browser's message form, that message will appear in Unity's Console. This communication method can be useful when Unity and the DCC tool are being used by different people. 

- If only the pose/animation are being edited, we recommend disabling **Sync Meshes** in MeshSyncServer component, which can make the performance lighter.



# Caveats

- Although this package is designed to be used in the Editor, model syncing will still work in runtime as well, but not the animations.  
For performance reasons, make sure that the syncing is not executed in the final build, unless it is required.

- It is possible to use this package in Unity 2018 and earlier, but bear in mind that the maximum number of bones per vertex is 4 in these earlier versions of Unity.   
If the model is using too many bones, the model won't sync correctly. 


# Other Languages
- [Japanese](jp/index.md)








